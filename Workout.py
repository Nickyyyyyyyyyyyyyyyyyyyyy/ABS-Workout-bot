import os
from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Application, CommandHandler, ContextTypes, CallbackQueryHandler
from telegram.constants import ParseMode # Додано для parse_mode

# Тут ми збережемо всі тренування для різних рівнів складності.
# Структура: {День: {Рівень: [Вправа1, Вправа2, ...]}}
WORKOUTS = {}

# Функція для генерації тренувань для всіх 120 днів та 3 рівнів складності
def generate_workouts():
    # Базові вправи для кожного дня, взяті з вашого попереднього коду та відео.
    # Значення тут — це лише формат рядка, самі цифри будуть заповнюватися нижче.
    base_workouts = {
        1: [
            "**Кранчі:** {} повторень",
            "**Зворотні кранчі:** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Планка:** {} секунд"
        ],
        2: [
            "**Вертикальні кранчі:** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Планка:** {} секунд",
            "**Велосипед:** {} повторень",
            "**Кранчі:** {} повторень"
        ],
        3: [
            "**Лежачі підйоми ніг:** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Дорсальне підняття:** {} повторень"
        ],
        4: [
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Кранчі:** {} повторень",
            "**Велосипед:** {} повторень",
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд"
        ],
        5: [
            "**Зворотні кранчі:** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Дорсальне підняття:** {} повторень"
        ],
        6: [
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Планка:** {} секунд",
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень"
        ],
        7: [
            "**Лежачі підйоми ніг:** {} повторень",
            "**Кранчі:** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Російський твіст:** {} повторень"
        ],
        8: [
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд",
            "**Дорсальне підняття:** {} повторень",
            "**Велосипед:** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень"
        ],
        9: [
            "**Дорсальне підняття:** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Зворотні кранчі:** {} повторень"
        ],
        10: [
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Планка:** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд"
        ],
        11: [
            "**Дорсальне підняття:** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Кранчі:** {} повторень"
        ],
        12: [
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень"
        ],
        13: [
            "**Велосипед:** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Зворотні кранчі:** {} повторень",
            "**Планка:** {} секунд"
        ],
        14: [
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд",
            "**Зворотні кранчі:** {} повторень",
            "**Велосипед:** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень"
        ],
        15: [
            "**Планка:** {} секунд",
            "**Дорсальне підняття:** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень"
        ],
        16: [
            "**Бічні кранчі (вправо):** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд"
        ],
        17: [
            "**Лежачі підйоми ніг:** {} повторень",
            "**Зворотні кранчі:** {} повторень",
            "**Бічна планка (вправо):** {} секунд",
            "**Бічна планка (вліво):** {} секунд",
            "**Дорсальне підняття:** {} повторень",
            "**Кранчі:** {} повторень"
        ],
        18: [
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Планка:** {} секунд",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень"
        ],
        19: [
            "**Вертикальні кранчі:** {} повторень",
            "**Велосипед:** {} повторень",
            "**Бічна планка (вправо):** {} секунд",
            "**Бічна планка (вліво):** {} секунд",
            "**Кранчі:** {} повторень",
            "**Дорсальне підняття:** {} повторень"
        ],
        20: [
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд"
        ],
        21: [
            "**Кранчі:** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Зворотні кранчі:** {} повторень"
        ],
        22: [
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Планка:** {} секунд",
            "**Дорсальне підняття:** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень"
        ],
        23: [
            "**Торкання п'ят:** {} повторень",
            "**Велосипед:** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Дорсальне підняття:** {} повторень"
        ],
        24: [
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд",
            "**Велосипед:** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень"
        ],
        25: [
            "**Російський твіст:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Планка:** {} секунд",
            "**Вертикальні кранчі:** {} повторень"
        ],
        26: [
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Дорсальне підняття:** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд"
        ],
        27: [
            "**Вертикальні кранчі:** {} повторень",
            "**Велосипед:** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Зворотні кранчі:** {} повторень",
            "**Кранчі:** {} повторень"
        ],
        28: [
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд"
        ],
        29: [
            "**Дорсальне підняття:** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Кранчі:** {} повторень"
        ],
        30: [
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд",
            "**Зворотні кранчі:** {} повторень",
            "**Планка:** {} секунд",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень"
        ],
        31: [
            "**Кранчі:** {} повторень",
            "**Зворотні кранчі:** {} повторень",
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд",
            "**Велосипед:** {} повторень",
            "**Дорсальне підняття:** {} повторень"
        ],
        32: [
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Планка:** {} секунд",
            "**Вертикальні кранчі:** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень"
        ],
        33: [
            "**Дорсальне підняття:** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень"
        ],
        34: [
            "**Бічна планка (вправо):** {} секунд",
            "**Бічна планка (вліво):** {} секунд",
            "**Велосипед:** {} повторень",
            "**Кранчі:** {} повторень",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд"
        ],
        35: [
            "**Вертикальні кранчі:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Зворотні кранчі:** {} повторень"
        ],
        36: [
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Планка:** {} секунд",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд"
        ],
        37: [
            "**Російський твіст:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Кранчі:** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень"
        ],
        38: [
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Велосипед:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічна планка (вправо):** {} секунд",
            "**Бічна планка (вліво):** {} секунд"
        ],
        39: [
            "**Зворотні кранчі:** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Дорсальне підняття:** {} повторень"
        ],
        40: [
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Російський твіст:** {} повторень",
            "**Планка:** {} секунд",
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень"
        ],
        41: [
            "**Кранчі:** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Дорсальне підняття:** {} повторень"
        ],
        42: [
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень"
        ],
        43: [
            "**Планка:** {} секунд",
            "**Зворотні кранчі:** {} повторень",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Російський твіст:** {} повторень",
            "**Велосипед:** {} повторень"
        ],
        44: [
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Велосипед:** {} повторень",
            "**Зворотні кранчі:** {} повторень",
            "**Бічна планка (вправо):** {} секунд",
            "**Бічна планка (вліво):** {} секунд"
        ],
        45: [
            "**Лежачі підйоми ніг:** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Планка:** {} секунд",
            "**Dorsal Extension:** {} повторень"
        ],
        46: [
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Російський твіст:** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень"
        ],
        47: [
            "**Кранчі:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд",
            "**Зворотні кранчі:** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень"
        ],
        48: [
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Планка:** {} секунд",
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень"
        ],
        49: [
            "**Дорсальне підняття:** {} повторень",
            "**Кранчі:** {} повторень",
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд",
            "**Велосипед:** {} повторень",
            "**Вертикальні кранчі:** {} повторень"
        ],
        50: [
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Торкання п'ят:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень"
        ],
        51: [
            "**Зворотні кранчі:** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Кранчі:** {} повторень"
        ],
        52: [
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Планка:** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд"
        ],
        53: [
            "**Дорсальне підняття:** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Велосипед:** {} повторень",
            "**Торкання п'ят:** {} повторень"
        ],
        54: [
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Велосипед:** {} повторень",
            "**Бічна планка (вправо):** {} секунд",
            "**Бічна планка (вліво):** {} секунд"
        ],
        55: [
            "**Планка:** {} секунд",
            "**Вертикальні кранчі:** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Зворотні кранчі:** {} повторень"
        ],
        56: [
            "**Бічна планка (вправо):** {} секунд",
            "**Бічна планка (вліво):** {} секунд",
            "**Дорсальне підняття:** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд"
        ],
        57: [
            "**Кранчі:** {} повторень",
            "**Зворотні кранчі:** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Велосипед:** {} повторень",
            "**Вертикальні кранчі:** {} повторень"
        ],
        58: [
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Торкання п'ят:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень"
        ],
        59: [
            "**Кранчі:** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Російський твіст:** {} повторень"
        ],
        60: [
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Планка:** {} секунд",
            "**Зворотні кранчі:** {} повторень",
            "**Бічна планка (вправо):** {} секунд",
            "**Бічна планка (вліво):** {} секунд"
        ],
        61: [
            "**Зворотні кранчі:** {} повторень",
            "**Кранчі:** {} повторень",
            "**Бічна планка (вправо):** {} секунд",
            "**Бічна планка (вліво):** {} секунд",
            "**Дорсальне підняття:** {} повторень",
            "**Велосипед:** {} повторень"
        ],
        62: [
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Планка:** {} секунд",
            "**Вертикальні кранчі:** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень"
        ],
        63: [
            "**Російський твіст:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Торкання п'ят:** {} повторень"
        ],
        64: [
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд",
            "**Кранчі:** {} повторень",
            "**Велосипед:** {} повторень",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд"
        ],
        65: [
            "**Дорсальне підняття:** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Зворотні кранчі:** {} повторень",
            "**Торкання п'ят:** {} повторень"
        ],
        66: [
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Планка:** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд"
        ],
        67: [
            "**Дорсальне підняття:** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Кранчі:** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень"
        ],
        68: [
            "**Бічні кранчі (вправо):** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Велосипед:** {} повторень",
            "**Бічна планка (вправо):** {} секунд",
            "**Бічна планка (вліво):** {} секунд"
        ],
        69: [
            "**Вертикальні кранчі:** {} повторень",
            "**Зворотні кранчі:** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Торкання п'ят:** {} повторень"
        ],
        70: [
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Планка:** {} секунд",
            "**Російський твіст:** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень"
        ],
        71: [
            "**Вертикальні кранчі:** {} повторень",
            "**Кранчі:** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Торкання п'ят:** {} повторень"
        ],
        72: [
            "**Бічні кранчі (вправо):** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень"
        ],
        73: [
            "**Планка:** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Велосипед:** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Зворотні кранчі:** {} повторень"
        ],
        74: [
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Велосипед:** {} повторень",
            "**Зворотні кранчі:** {} повторень",
            "**Бічна планка (вправо):** {} секунд",
            "**Бічна планка (вліво):** {} секунд"
        ],
        75: [
            "**Лежачі підйоми ніг:** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Планка:** {} секунд",
            "**Дорсальне підняття:** {} повторень"
        ],
        76: [
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Російський твіст:** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень"
        ],
        77: [
            "**Кранчі:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд",
            "**Зворотні кранчі:** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень"
        ],
        78: [
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Планка:** {} секунд",
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень"
        ],
        79: [
            "**Дорсальне підняття:** {} повторень",
            "**Кранчі:** {} повторень",
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд",
            "**Велосипед:** {} повторень",
            "**Вертикальні кранчі:** {} повторень"
        ],
        80: [
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Торкання п'ят:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень"
        ],
        81: [
            "**Зворотні кранчі:** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Кранчі:** {} повторень"
        ],
        82: [
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Планка:** {} секунд",
            "**Дорсальне підняття:** {} повторень",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд"
        ],
        83: [
            "**Лежачі підйоми ніг:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Велосипед:** {} повторень",
            "**Торкання п'ят:** {} повторень"
        ],
        84: [
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Велосипед:** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд"
        ],
        85: [
            "**Планка:** {} секунд",
            "**Вертикальні кранчі:** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Зворотні кранчі:** {} повторень"
        ],
        86: [
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд",
            "**Торкання п'ят:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд"
        ],
        87: [
            "**Зворотні кранчі:** {} повторень",
            "**Кранчі:** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Велосипед:** {} повторень"
        ],
        88: [
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Дорсальне підняття:** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень"
        ],
        89: [
            "**Лежачі підйоми ніг:** {} повторень",
            "**Кранчі:** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Російський твіст:** {} повторень"
        ],
        90: [
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Зворотні кранчі:** {} повторень",
            "**Планка:** {} секунд",
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд"
        ],
        91: [
            "**Велосипед:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд",
            "**Кранчі:** {} повторень",
            "**Зворотні кранчі:** {} повторень"
        ],
        92: [
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Планка:** {} секунд",
            "**Вертикальні кранчі:** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень"
        ],
        93: [
            "**Торкання п'ят:** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Російський твіст:** {} повторень"
        ],
        94: [
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Кранчі:** {} повторень",
            "**Велосипед:** {} повторень",
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд"
        ],
        95: [
            "**Торкання п'ят:** {} повторень",
            "**Зворотні кранчі:** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Дорсальне підняття:** {} повторень"
        ],
        96: [
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Планка:** {} секунд",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень"
        ],
        97: [
            "**Кранчі:** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Дорсальне підняття:** {} повторень"
        ],
        98: [
            "**Торкання п'ят:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Зворотні кранчі:** {} повторень",
            "**Вертикальні кранчі:** {} повторень"
        ],
        99: [
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Планка:** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд"
        ],
        100: [
            "**Торкання п'ят:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Кранчі:** {} повторень"
        ],
        101: [
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень"
        ],
        102: [
            "**Російський твіст:** {} повторень",
            "**Велосипед:** {} повторень",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Планка:** {} секунд",
            "**Зворотні кранчі:** {} повторень"
        ],
        103: [
            "**Бічна планка (вправо):** {} секунд",
            "**Бічна планка (вліво):** {} секунд",
            "**Велосипед:** {} повторень",
            "**Зворотні кранчі:** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень"
        ],
        104: [
            "**Планка:** {} секунд",
            "**Дорсальне підняття:** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Вертикальні кранчі:** {} повторень"
        ],
        105: [
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд"
        ],
        106: [
            "**Зворотні кранчі:** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд",
            "**Кранчі:** {} повторень",
            "**Дорсальне підняття:** {} повторень"
        ],
        107: [
            "**Косі кранчі (вправо):** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Планка:** {} секунд",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень"
        ],
        108: [
            "**Велосипед:** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Бічна планка (вліво):** {} секунд",
            "**Бічна планка (вправо):** {} секунд",
            "**Дорсальне підняття:** {} повторень",
            "**Кранчі:** {} повторень"
        ],
        109: [
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Торкання п'ят:** {} повторень"
        ],
        110: [
            "**Російський твіст:** {} повторень",
            "**Кранчі:** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Зворотні кранчі:** {} повторень",
            "**Вертикальні кранчі:** {} повторень"
        ],
        111: [
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Планка:** {} секунд",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень"
        ],
        112: [
            "**Велосипед:** {} повторень",
            "**Торкання п'ят:** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень"
        ],
        113: [
            "**Бічна планка (вправо):** {} секунд",
            "**Бічна планка (вліво):** {} секунд",
            "**Лежачі підйоми ніг:** {} повторень",
            "**Велосипед:** {} повторень",
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень"
        ],
        114: [
            "**Дорсальне підняття:** {} повторень",
            "**Російський твіст:** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Планка:** {} секунд"
        ],
        115: [
            "**Бічна планка (підйом ноги вліво):** {} секунд",
            "**Бічна планка (підйом ноги вправо):** {} секунд",
            "**Торкання п'ят:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Бічна планка (вправо):** {} секунд",
            "**Бічна планка (вліво):** {} секунд"
        ],
        116: [
            "**Велосипед:** {} повторень",
            "**Вертикальні кранчі:** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Зворотні кранчі:** {} повторень",
            "**Кранчі:** {} повторень"
        ],
        117: [
            "**Бічний твіст планки (вліво):** {} повторень",
            "**Бічний твіст планки (вправо):** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Лежачі підйоми ніг:** {} повторень"
        ],
        118: [
            "**Російський твіст:** {} повторень",
            "**Дорсальне підняття:** {} повторень",
            "**Косі кранчі (вліво):** {} повторень",
            "**Косі кранчі (вправо):** {} повторень",
            "**Планка:** {} секунд",
            "**Лежачі підйоми ніг:** {} повторень"
        ],
        119: [
            "**Бічні кранчі (вправо):** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Планка:** {} секунд",
            "**Зворотні кранчі:** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень"
        ],
        120: [
            "**Бічна планка (вправо):** {} секунд",
            "**Бічна планка (вліво):** {} секунд",
            "**Планка:** {} секунд",
            "**Зворотні кранчі:** {} повторень",
            "**Бічні кранчі (вліво):** {} повторень",
            "**Бічні кранчі (вправо):** {} повторень"
        ]
    }

    for day in range(1, 121):
        WORKOUTS[day] = {}
        
        medium_workout_list = []
        hard_workout_list = []
        easy_workout_list = []

        for exercise_format in base_workouts[day]:
            exercise_name = exercise_format.split(':')[0].replace('**', '').strip()
            
            # Значення для Середнього рівня (з відео)
            medium_value = 10 
            if "Планка" == exercise_name:
                medium_value = 11 # Планка 11 секунд
            elif "секунд" in exercise_format: # Інші планки 10 секунд
                medium_value = 10
            # Для повторень завжди 10 за відео

            # Розрахунок Важкого рівня: +20% від Середнього
            hard_value = int(medium_value * 1.20)
            
            # Розрахунок Легкого рівня: -20% від Середнього
            easy_value = int(medium_value * 0.80)

            medium_workout_list.append(exercise_format.format(medium_value))
            hard_workout_list.append(exercise_format.format(hard_value))
            easy_workout_list.append(exercise_format.format(easy_value))

        WORKOUTS[day]['Easy'] = easy_workout_list
        WORKOUTS[day]['Medium'] = medium_workout_list
        WORKOUTS[day]['Hard'] = hard_workout_list

# Запускаємо генерацію тренувань один раз при запуску скрипта
generate_workouts()

# Зберігаємо вибраний рівень складності для кожного користувача
user_difficulty = {} # {user_id: 'Easy' / 'Medium' / 'Hard'}

# Функція для створення кнопок з номерами днів
def build_day_keyboard(page: int) -> InlineKeyboardMarkup:
    keyboard = []
    days_per_page = 25  # Кількість днів на одній сторінці
    start_day = (page - 1) * days_per_page + 1
    end_day = min(page * days_per_page, 120)

    row = []
    for day_num in range(start_day, end_day + 1):
        row.append(InlineKeyboardButton(str(day_num), callback_data=f"day_{day_num}"))
        if len(row) == 5:  # 5 кнопок у рядку
            keyboard.append(row)
            row = []
    if row:  # Додати залишок кнопок, якщо є
        keyboard.append(row)

    # Додаємо кнопки навігації
    navigation_row = []
    if page > 1:
        navigation_row.append(InlineKeyboardButton("⬅️ Попередня", callback_data=f"page_{page - 1}"))
    if page * days_per_page < 120:
        navigation_row.append(InlineKeyboardButton("Наступна ➡️", callback_data=f"page_{page + 1}"))
    if navigation_row:
        keyboard.append(navigation_row)

    return InlineKeyboardMarkup(keyboard)

# Функція для створення кнопок вибору рівня складності
def build_difficulty_keyboard() -> InlineKeyboardMarkup:
    keyboard = [
        [InlineKeyboardButton("Легкий (Easy)", callback_data="difficulty_Easy")],
        [InlineKeyboardButton("Середній (Medium)", callback_data="difficulty_Medium")],
        [InlineKeyboardButton("Важкий (Hard)", callback_data="difficulty_Hard")]
    ]
    return InlineKeyboardMarkup(keyboard)

# Функція, що викликається командою /start
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    await update.message.reply_text(
        'Привіт! Я твій фітнес-бот. Обери рівень складності тренувань:',
        reply_markup=build_difficulty_keyboard()
    )

# Нова функція для команди /list
async def list_days(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    user_id = update.effective_user.id
    if user_id not in user_difficulty:
        await update.message.reply_text(
            "Будь ласка, спочатку оберіть рівень складності за допомогою /start.",
            reply_markup=build_difficulty_keyboard()
        )
    else:
        await update.message.reply_text(
            f"Обери день тренування для рівня **{user_difficulty[user_id]}**:",
            reply_markup=build_day_keyboard(1), # Показуємо першу сторінку днів
            parse_mode=ParseMode.MARKDOWN # Використовуйте ParseMode.MARKDOWN
        )

# Функція, що обробляє натискання кнопок
async def button_handler(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    query = update.callback_query
    await query.answer()  # Обов'язково відповідаємо на callbackQuery

    data = query.data
    user_id = query.from_user.id

    if data.startswith("difficulty_"):
        difficulty_level = data.split("_")[1]
        user_difficulty[user_id] = difficulty_level
        # Тепер ми надсилаємо нове повідомлення з клавіатурою днів
        await query.edit_message_text(f"Ти обрав рівень: **{difficulty_level}**.", parse_mode=ParseMode.MARKDOWN)
        await query.message.reply_text(
            f"Обери день тренування зі списку для рівня **{difficulty_level}**:",
            reply_markup=build_day_keyboard(1), # Показуємо першу сторінку днів
            parse_mode=ParseMode.MARKDOWN
        )
    elif data.startswith("day_"):
        if user_id not in user_difficulty:
            await query.edit_message_text("Будь ласка, спочатку оберіть рівень складності за допомогою /start.")
            # Посилання на клавіатуру, якщо потрібно
            await query.message.reply_markup(reply_markup=build_difficulty_keyboard()) 
            return

        day_number = int(data.split("_")[1])
        selected_difficulty = user_difficulty[user_id]
        
        workout_data = WORKOUTS.get(day_number)
        
        if workout_data and selected_difficulty in workout_data:
            workout_list = workout_data[selected_difficulty]
            response = f"💪 **Тренування на День {day_number} ({selected_difficulty} рівень)**\n\n"
            response += "\n".join([f"• {item}" for item in workout_list])
        else:
            response = f"На жаль, тренування для дня {day_number} ({selected_difficulty} рівень) не знайдено."
        
        await query.edit_message_text(response, parse_mode=ParseMode.MARKDOWN)
        # Після виведення тренування, пропонуємо повернутися до вибору дня або рівня
        keyboard_after_workout = [
            [InlineKeyboardButton("Обери інший день", callback_data="show_days_1")],
            [InlineKeyboardButton("Змінити рівень складності", callback_data="change_difficulty")]
        ]
        await query.message.reply_text("Що далі?", reply_markup=InlineKeyboardMarkup(keyboard_after_workout))

    elif data.startswith("page_"):
        page_number = int(data.split("_")[1])
        # Для навігації сторінками, ми редагуємо лише розмітку повідомлення
        await query.edit_message_reply_markup(reply_markup=build_day_keyboard(page_number))
    elif data == "show_days_1":
        # Користувач хоче повернутися до списку днів
        if user_id not in user_difficulty:
            await query.edit_message_text(
                "Будь ласка, спочатку оберіть рівень складності за допомогою /start.",
                reply_markup=build_difficulty_keyboard()
            )
        else:
            await query.edit_message_text(
                f"Обери день тренування зі списку для рівня **{user_difficulty[user_id]}**:",
                reply_markup=build_day_keyboard(1),
                parse_mode=ParseMode.MARKDOWN
            )
    elif data == "change_difficulty":
        # Користувач хоче змінити рівень складності
        await query.edit_message_text("Обери рівень складності тренувань:", reply_markup=build_difficulty_keyboard())


def main() -> None:
    # Отримуємо токен та URL з змінних середовища
    TOKEN = os.getenv("BOT_TOKEN")
    WEBHOOK_URL = os.getenv("WEBHOOK_URL")
    PORT = int(os.getenv("PORT", "8000")) # Порт за замовчуванням 8000

    if not TOKEN or not WEBHOOK_URL:
        print("Error: BOT_TOKEN or WEBHOOK_URL environment variables are not set.")
        return

    application = Application.builder().token(TOKEN).build()

    # Додаємо обробники команд
    application.add_handler(CommandHandler("start", start))
    application.add_handler(CommandHandler("list", list_days))
    application.add_handler(CallbackQueryHandler(button_handler))

    # Запускаємо бота в режимі вебхуків
    application.run_webhook(
        listen="0.0.0.0",
        port=PORT,
        url_path="", # Важливо: url_path порожній, Telegram Bot API сам сформує шлях
        webhook_url=WEBHOOK_URL # Це URL, на який Telegram буде відправляти оновлення
    )

if __name__ == "__main__":
    main()
